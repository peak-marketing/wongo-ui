# Core
NODE_ENV=development
PORT=3001
WEB_URL=http://localhost:3000

# TypeORM (PostgreSQL)
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASS=postgres
DB_NAME=manuscript

# Redis / BullMQ
REDIS_URL=redis://localhost:6379
# Worker concurrency (BullMQ)
GEN_WORKER_CONCURRENCY=5
# Backward-compat (older name)
GEN_CONCURRENCY=5
GEN_MAX_ATTEMPTS=3
GEN_BACKOFF_MS=2000

# Gemini
GEMINI_API_KEY=
GEMINI_CONCURRENCY=5

# Safe mode (auto-reduce concurrency on 429 bursts)
GEMINI_SAFE_MODE_ENABLED=true
GEMINI_SAFE_MODE_THRESHOLD=3
GEMINI_SAFE_MODE_MIN=3

# Long-running request timeout (ms)
GEMINI_REQUEST_TIMEOUT_MS=120000

# JWT
JWT_SECRET=change_me

# Storage (optional)
S3_BUCKET=
S3_REGION=ap-northeast-2
S3_ACCESS_KEY=
S3_SECRET_KEY=

# Observability (optional)
SENTRY_DSN=
